<div class="status-list-container">
    <div class="status-list-header">
        <h3>Gestion des status</h3>
    </div>

    <div class="status-list-body">
        @if (statuses().length === 0) {
            <p class="empty-state">Aucun status disponible</p>
        } @else {
            <div class="status-items">
                @for (status of statuses(); track status.id) {
                    <div class="status-item">
                        <div class="status-info">
                            <div
                                class="status-color"
                                [style.background-color]="status.color"
                            ></div>
                            <span class="status-name">{{ status.name }}</span>
                        </div>
                        <button
                            type="button"
                            class="edit-button"
                            (click)="openEdit(status)"
                            aria-label="Modifier le status {{ status.name }}"
                        >
                            <lucide-icon [img]="PencilIcon" [size]="16"></lucide-icon>
                        </button>
                    </div>
                }
            </div>
        }
    </div>
</div>

<app-status-edit
    [status]="selectedStatus()"
    (closed)="closeEdit()"
></app-status-edit>